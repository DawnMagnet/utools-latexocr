class UToolsUtils{static read(o,t=!0){if(!window.utools)return;const s=window.utools.db.get(o);if(!s)return!1;const l=s;return l.data=JSON.parse(s.data),console.log("读取",l),t?l.data:l}static readAll(o="",t=!0){const s=o?window.utools.db.allDocs(o):window.utools.db.allDocs();return t?s.map((t=>(t.data=JSON.parse(t.data),t._id=t._id.replace(o,""),t))):s}static update(o,t){t=JSON.stringify(t),console.log("保存",t);const s=UToolsUtils.read(o,!1);let l;l=window.utools.db.put({_id:o,data:t,_rev:s._rev}),console.log("update",l)}static save(o,t){UToolsUtils.update(o,t)}static delete(o){window.utools.db.remove(o)}}try{module.exports=UToolsUtils}catch(o){window.UToolsUtils=UToolsUtils}